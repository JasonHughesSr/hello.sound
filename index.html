<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Project Infamy</title>

    <!--bootstrap / jquery stuff-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
    <script src="ProjectInfamy/js/lib/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <!-- MIDI Sound files -->
    <script src="ProjectInfamy/js/lib/MIDI/AudioDetect.js"></script>
    <script src="ProjectInfamy/js/lib/MIDI/LoadPlugin.js"></script>
    <script src="ProjectInfamy/js/lib/MIDI/Plugin.js"></script>
    <script src="ProjectInfamy/js/lib/MIDI/Player.js"></script>
    <script src="ProjectInfamy/js/lib/MIDI/DOMLoader.XMLHttp.js"></script>
    <script src="ProjectInfamy/js/lib/MIDI/Base64.js"></script>
    <script src="ProjectInfamy/js/lib/MIDI/Base64binary.js"></script>
    <script src="ProjectInfamy/js/lib/Sound.js"></script>
    <script src="ProjectInfamy/js/lib/underscore.js"></script>


    <!--Vexflow Library for Tabs and Notes-->
    <link href="ProjectInfamy/css/style.css" media="screen" rel="Stylesheet" type="text/css" />
    <link href="ProjectInfamy/css/lib/vextab.css" media="screen" rel="Stylesheet" type="text/css" />
    <script src="ProjectInfamy/js/lib/vextab-div.js"></script>
    <script src="ProjectInfamy/js/lib/ace/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>

    <script src="ProjectInfamy/js/Note.js"></script>

    <style>

        #editorContainer{
            height: 600px;
        }

        #editor
        {
            height: 100%;
        }

    </style>

    <script>
        VexTabDiv.Flow.Renderer.USE_CANVAS_PROXY = true;
        VexTabDiv.Artist.DEBUG = false;

        function hideMain(){
            $( "#main" ).hide();
            $( "#about" ).show();
            $("#aboutButton").active();
            $("#aboutButton").focus();
        };

        function hideAbout(){
            $( "#about" ).hide();
            $( "#main" ).show();
            $("#homeButton").active();
            $("#homeButton").focus();
        };

        function fillEditor(obj){
            $("#vexEdit").text(obj);
            Vex.Flow.TabDiv.start();
        };

    </script>

    <script>
        $(document).ready(function(){

            NoteQueue = [];

            CreateVexFlow();

            //do something with note queue

            for(var i = 0; i < NoteQueue.length; i++)
            {
                //create vex version of note object
                var data = NoteQueue[i];
                console.log(MIDI.noteToKey[data.noteValue]);
            }

        });

        CreateVexFlow = function(){



            //populate notes array by eval on user code
            eval(editor.getValue());

        };

    </script>

</head>

<body>
<div class="container">

    <div class="header col-md-12">
            <nav>
                <ul class="nav nav-pills pull-right">
                    <li role="presentation" id="homeButton"><a href="#" onclick="hideAbout()">Home</a></li>
                    <li role="presentation" id="aboutButton"><a href="#" onclick="hideMain()" >About</a></li>
                </ul>
            </nav>
            <h3 class="text-muted">Hello Sound!</h3>
    </div>

    <div class="col-md-12" id="main">
        <div class="console col-md-7" id="editorContainer">

            <div class="playerControls">
                <button onclick="execUserCodeWrapper(editor.getValue())">Start</button>
                <button onclick="">Stop</button>
            </div>

            <pre id="editor">
QuarterNote('C5');

for(var i = 0; i < 2; i++)
{
    QuarterNote("A5");
    HalfNote("A4");
}

HalfNote("A4");

</pre>

        </div>

        <div class="col-md-5">
            <div class="vex-tabdiv col-md-12" id="vexEdit" scale=1.0 editor="true">tabstave notation=true tablature=false</div>

            <div class="col-md-12">
                <h3>Keywords And Values:</h3><br>
                tabstave<br>
                notation true/false<br>
                tablature true/false<br>
                clef	treble, alto, tenor, bass, percussion<br>
                key	C, Am, F, Dm, Bb, Gm, Eb, Cm, Ab, Fm, Db, Bbm, Gb, Ebm, Cb, Abm, G, Em, D, Bm, A, F#m, E, C#m, B, G#m, F#, D#m, C#, A#m<br>
                time	C, C|, #/#<br>
                tuning	standard, dropd, eb, E/5,B/4,G/4,D/4,A/3,E/3<br>

                <h3>Examples:</h3><br>
                tabstave notation=true renders a standard notation stave above the tab stave.<br>
                tabstave notation=true tablature=false only renders the notation stave.<br>
                tabstave notation=true clef=alto changes the clef to alto.<br>
                tabstave notation=true clef=bass key=C# time=C| would create two staves (one notation, one tab), bass clef in the key of C# and half common time <br>
            </div>
        </div>
    </div>

    <div class="col-md-12" id="about" style="display:none">
        <div class="console col-md-7">
            <p>
                Team Infamy is a team of three developers from the Dallas, Texas area.  They entered <a href="https://koding.com/Hackathon" target="_blank"> Koding.com's hackathon</a>.
                The themes they chose to hack towards was creating an educational game that also taught some basics of programming.  Using HTML5, JavaScript, CSS, and various libraries they
                embarked on their endeavor.
            </p>

            <p>
                The main idea behind Hello Sound is to teach some basic object oriented programming fundamentals in a fun way.  The app is a single page website where a user can
                write some cde in a console. This code can create objects that represent musical notes, notation, sounds, etc.  Using HTML's canvas element a graphical view of their object is presented.  An audio
                representation is also available.  This app is currently in alpha stage.  Future goals are to have the ability to print music composed to pdf (sheet music), export audio to various formats / cloud
                services, and to make it fully mobile friendly for use in a tablet.
            </p>

            Team Infamy is:<br>
            <h3>Jason Hughes <a href="https://twitter.com/JasonHughesSr" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow Jason</a>
                <script>
                    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';
                        if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');
                </script></h3>
            Jason is a alum of <b>THE</b> Ohio State University and Western Governors University.  He is a .NET developer, who works with C#, VB.NET, Angular, Entity Framework, MSSQL, and other technologies on a
            daily basis.  He is also a father of three.  He is active with his son's Cub Scout pack, his church, and supporting his wife as they home school their children.  In his free time he enjoys camping,
            hiking, and watching his Buckeyes play football.  He is also the team lead for the  Hello Sound project.  He enjoys learning more about his craft and developing with agility.  He one day hopes to be
            a project manager.  In this app, Jason was responsible for the over all look and feel, the musical notes representation, and moving the project along.<br>


            <h3>Brandon McCartney</h3>
            Brandon is also a .NET developer who works with C#, VB.NET, Angular, Entity Framework, MSSQL, etc.  He enjoys learning about design patterns and architecture.  He likes fast cars
            and skateboarding.  He prefers to code on a MacBook in a coffee shop.  He enjoys thinking about higher level concepts, and the SOLID principles.  Brandon is great at teaching tough, fuzzy concepts to other
            developers. In this app, Brandon was responsible for the console piece and how it ties in to the rest of the app.<br>

            <h3>Jeffery Beard</h3>
            Jeffery if a budding developer quickly learning the ropes with Angular, SQL, C#, VB.NET, and other cutting edge technologies.  His current role has him doing a lot of QA Testing, in
            addition to development.  He is a father and enjoys spending time with his daughter.  When he's not coding there's a good chance he's working on his movie colection, crawling local pubs, or gaming on his Xbox.
            Jeffery is excited to be making his hobby a career now and hopes to continue to grow in knowledge and skill.  In this app, Jeffery was responsible for integrating sounds to the rest of the app, providing an
            extra layer of the user experience.<br>
        </div>
        <div class="col-md-5">

        </div>
    </div>
</div>
<script>
    window.onload = function(){
        MIDI.loadPlugin({
            soundfontUrl: "ProjectInfamy/js/lib/MIDI/soundfont/",
            instrument: "acoustic_grand_piano",
            callback: function() { }
        });
    };
</script>
</body>

<script>
    var editor = ace.edit("editor");
    editor.setTheme("ace/theme/twilight");
    editor.getSession().setMode("ace/mode/javascript");

    var execUserCodeWrapper = function(userCode){

        NoteQueue = [];

        eval(userCode);

        ProcessNoteQueue();

    };

</script>

</html>
